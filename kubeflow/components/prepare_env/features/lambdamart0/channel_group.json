{
    "query": {
        "function_score": {
            "query": {
                "match_all": {}
            },
            "script_score" : {
                "script" : {
                    "params": {
                        "channel_group": "{{channel_group}}"
                    },
                    "source": "if (params.channel_group == 'paid_search') { return doc['performances.channel_groups.paid_search.CTR'].value * 100 } else if (params.channel_group == 'referral') { return doc['performances.channel_groups.referral.CTR'].value * 100 } else if (params.channel_group == 'organic_search') { return doc['performances.channel_groups.organic_search.CTR'].value * 100 } else if (params.channel_group == 'social') { return doc['performances.channel_groups.social.CTR'].value * 100 } else if (params.channel_group == 'display') { return doc['performances.channel_groups.display.CTR'].value * 100 } else if (params.channel_group == 'direct') { return doc['performances.channel_groups.direct.CTR'].value * 100 } else if (params.channel_group == 'affiliates') { return doc['performances.channel_groups.affiliates.CTR'].value * 100 }"
                }
            }
        }
    },
    "params": ["channel_group"],
    "name": "channel_group"
}
