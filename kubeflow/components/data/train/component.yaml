name: Build Validation Dataset
description: Queries over GA data to extract customers, their searches and the respective purchases on each search

inputs:
  - {name: validation_init_date, type: String, description: 'Date to start querying from validation dataset. Follows %Y%M%D format.'}
  - {name: validation_end_date, type: String, description: 'Date to end querying from validation dataset. Follows %Y%M%D format.'}
  - {name: bucket, type: String}

outputs:
  - {name: validation_data, type: LocalPath, description: 'Path where validation dataset is located.'}

implementation:
  container:
    image: gcr.io/{PROJECT_ID}/data_validation
    args: [
      --validation_init_date, {inputValue: validation_init_date},
      --validation_end_date, {inputValue: validation_end_date},
      --bucket, {inputValue: bucket},
      --destination, {outputPath: validation_data}
    ]
